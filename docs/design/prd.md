# Folio（页集）— 产品需求文档（PRD）

> 版本：1.0
> 创建日期：2026-02-20
> 最后更新：2026-02-20
> 产品负责人：待定
> 关联文档：[交互流程](../interaction/core-flows.md) | [系统架构](../architecture/system-design.md) | [概念文档](../../../ideas/tech/)

---

## 一、产品灵魂

### 一句话

> **分享链接，知识留住。**

### 产品定义

Folio 是一个本地优先的个人知识收藏 iOS App。你在任何地方看到值得留住的文章——微信公众号、Twitter/X、个人博客、微博——只需要一个"分享"动作，Folio 就会自动把正文抓下来，转成干净的 Markdown，AI 分好类、打好标签、写好摘要，安静地存在你的设备上。全文可搜索，永远不丢。

Folio 不是"稍后阅读"，不是"笔记工具"，不是"RSS 阅读器"。它是你的**个人知识收藏家**——只做一件事：确保你看到的好内容，永远不会因为链接失效、平台关闭、算法更迭而消失。

### 设计哲学

> "Simplicity is the ultimate sophistication."
> — Leonardo da Vinci

工具的最高境界是让人忘记工具本身的存在。Folio 不追求花哨的交互，不追求社交裂变，不追求让用户"停留更久"。它追求的是：

1. **收藏零摩擦** — 从看到好文到收藏完成，不超过 2 秒
2. **整理零负担** — AI 自动完成分类、标签、摘要，你不需要动手
3. **找到零等待** — 全文搜索，关键词输入即出结果
4. **数据零风险** — 本地优先存储，你的知识库在你的设备上

### 核心体验（三个词）

**收藏。整理。找到。**

不是：复制链接 → 打开App → 粘贴 → 选择分类 → 填写标签 → 保存。
而是：分享 → 完成。找 → 找到。

---

## 二、目标用户

### 核心画像

任何有"看到好内容想留住"习惯的人。不限年龄、不限职业、不限平台。全球用户，中英文双语支持。

### 用户画像

| 画像 | 典型特征 | 核心痛点 |
|------|---------|---------|
| 知识工作者 | 产品经理、工程师、设计师，日常大量阅读行业文章 | 收藏夹越来越长，从来不翻；微信收藏找不到；链接过期了 |
| 独立创作者 | 自媒体、写作者、内容创业者，需要建立素材库 | 灵感素材散落在各个平台，写作时找不到当初看过的那篇 |
| 终身学习者 | 对各领域都有好奇心，持续阅读各类内容 | 读过很多好文章，但大脑记不住，也没有系统整理 |
| 研究者/学生 | 需要围绕某个主题深度积累资料 | 用文件夹管理太重，用书签太乱，需要全文搜索 |
| 信息焦虑者 | 害怕错过好内容，收藏了大量"稍后阅读" | 收藏了 500 篇，读了 5 篇，但删也不敢删 |

### 核心使用场景

| 场景 | 用户行为 | Folio 的价值 |
|------|---------|-------------|
| 刷微信看到好文 | 公众号文章 → 分享 → Folio | 文章永久保存，不怕链接失效、文章被删 |
| Twitter 上看到技术长帖 | Twitter 链接 → 分享 → Folio | 推文+Thread 完整抓取，不怕作者删帖 |
| 同事发了一篇好博客 | 复制链接 → 分享 → Folio | 自动抓取正文，去掉广告和导航 |
| 写文章需要引用 | 打开 Folio → 搜索关键词 → 找到原文 | 全文搜索，2 秒找到 |
| 回顾某个主题的阅读 | 点击标签/分类 → 浏览该主题所有收藏 | AI 已自动整理好，无需手动分类 |
| 换手机/设备丢失 | iCloud 同步恢复 | 本地数据 + 云端备份，数据不丢 |

---

## 三、功能定义

### 3.1 功能架构总览

```
Folio 功能架构（MVP）

核心功能
├── F1. 一键收藏 — 从任意 App 分享链接到 Folio
├── F2. 智能抓取 — 自动提取正文，转为 Markdown
├── F3. AI 整理  — 自动分类、打标签、生成摘要
├── F4. 收藏库   — 浏览、管理所有收藏内容
├── F5. 全文搜索 — 本地全文索引，即时搜索
└── F6. 阅读视图 — 干净的 Markdown 阅读体验

基础功能
├── F7. 用户账号 — Apple ID 登录，极简注册
├── F8. 本地存储 — SQLite + 文件系统，本地优先
└── F9. 设置     — 最少选项，最大效率
```

### 3.2 功能优先级

| 功能 | 优先级 | MVP 是否必须 | 说明 |
|------|--------|-------------|------|
| F1. 一键收藏 | P0 | 是 | 没有这个功能产品不成立 |
| F2. 智能抓取 | P0 | 是 | 没有这个功能产品不成立 |
| F3. AI 整理 | P0 | 是 | 核心差异化 |
| F4. 收藏库 | P0 | 是 | 用户浏览收藏的主界面 |
| F5. 全文搜索 | P0 | 是 | "找到"是核心体验之一 |
| F6. 阅读视图 | P0 | 是 | 阅读收藏内容的基本能力 |
| F7. 用户账号 | P0 | 是 | App 基础能力 |
| F8. 本地存储 | P0 | 是 | 本地优先是核心定位 |
| F9. 设置 | P1 | 是 | 基础但不需要很复杂 |

---

## 四、各核心功能的详细定义

### F1. 一键收藏

**用户感受**：在任何 App 里看到好内容，点"分享" → 选择 Folio → 完成。整个过程不超过 2 秒。

#### 收藏入口

| 入口 | 方式 | 优先级 |
|------|------|--------|
| iOS Share Extension | 从任意 App 点分享 → 选择 Folio | P0（MVP 必须） |
| App 内粘贴板检测 | 打开 App 时自动检测剪贴板链接，弹窗确认收藏 | P0（MVP 必须） |
| App 内手动输入 | 在 App 内粘贴/输入 URL | P1（MVP 必须，作为兜底） |
| Shortcuts / 快捷指令 | iOS 快捷指令支持 | P2（后续版本） |

#### Share Extension 规格

| 项目 | 要求 |
|------|------|
| 支持的分享类型 | URL 链接、文本（含 URL）、网页 |
| Extension 启动时间 | < 0.5 秒 |
| 用户操作 | 点击"保存到 Folio"即可，无需填写任何信息 |
| 可选操作 | 展开后可手动添加备注（最多 200 字） |
| 反馈 | 保存成功显示 checkmark 动画（0.5 秒），自动关闭 Extension |
| 失败处理 | 显示简短错误信息 + "重试"按钮，同时将链接存入待处理队列 |
| 离线行为 | 链接存入本地队列，联网后自动抓取 |
| 重复检测 | URL 去重，已收藏过的链接提示"已收藏"并跳转到该条目 |

#### 剪贴板检测规格

| 项目 | 要求 |
|------|------|
| 检测时机 | App 从后台切换到前台时 |
| 检测内容 | 剪贴板中是否包含 URL |
| 弹窗样式 | 顶部 Toast 样式："检测到链接，是否收藏？" + [收藏] [忽略] |
| 自动消失 | 5 秒无操作自动消失 |
| 同一链接不重复提示 | 已提示过或已收藏过的链接不再弹窗 |
| 隐私 | 仅在 App 前台时读取，不后台监听剪贴板；遵循 iOS 剪贴板隐私策略 |

#### 验收标准

- [ ] 从微信公众号文章页点分享 → 选 Folio → 保存成功，全程 < 2 秒
- [ ] 从 Twitter/X 分享推文链接 → 保存成功
- [ ] 从 Safari 分享网页链接 → 保存成功
- [ ] 无网络时分享 → 链接进入队列 → 联网后自动处理
- [ ] 分享已收藏过的链接 → 提示"已收藏"
- [ ] Share Extension 中可以添加备注
- [ ] 剪贴板检测不在后台执行，不侵犯隐私

---

### F2. 智能抓取

**用户感受**：分享完链接后什么都不用管，过几秒再打开 Folio，干净的文章正文已经在那了。

#### 抓取架构

```
用户分享链接
    ↓
URL 解析与规范化
    ↓
内容源识别（微信/Twitter/博客/...）
    ↓
调用对应抓取引擎
    ↓
HTML → 正文提取（去广告、去导航、去侧边栏）
    ↓
正文 → Markdown 转换
    ↓
元数据提取（标题、作者、发布日期、封面图）
    ↓
图片下载 → 本地缓存
    ↓
存入本地数据库
    ↓
触发 AI 整理流程（F3）
```

#### 内容源抓取方案

##### P0 内容源（MVP 必须）

**个人博客/网站**

| 项目 | 方案 |
|------|------|
| 抓取方式 | HTTP 请求 + Readability 算法提取正文 |
| 正文提取 | 使用 Mozilla Readability 算法或等效实现 |
| 图片处理 | 下载正文内图片到本地，替换为本地路径 |
| 适配范围 | 基于标准 HTML 的任意博客/网站 |
| 特殊处理 | 检测并处理 Cloudflare 等反爬机制（降级为保存链接+元数据） |
| 编码处理 | 自动检测 UTF-8/GBK/GB2312，统一转为 UTF-8 |

**微信公众号**

| 项目 | 方案 |
|------|------|
| 抓取方式 | 服务端代理抓取（微信公众号文章链接需要特殊处理） |
| 链接格式 | `mp.weixin.qq.com/s/xxx` 或短链 |
| 正文提取 | 解析微信文章 HTML 结构，提取 `js_content` 区域 |
| 图片处理 | 微信图片有防盗链，需通过服务端代理下载并缓存到本地 |
| 富文本处理 | 保留加粗、引用、列表等格式，转为 Markdown |
| 音频/视频 | 仅保存链接标记，不抓取多媒体内容 |
| 失效处理 | 如文章已被删除，保存已知元数据 + "原文已不可访问"标记 |

**Twitter/X**

| 项目 | 方案 |
|------|------|
| 抓取方式 | Twitter API v2（需 API Key）或服务端代理 |
| 单条推文 | 提取推文全文（含长推文展开）、图片、发布时间、作者 |
| Thread（帖子串） | 自动检测并抓取完整 Thread，按顺序合并为一篇 |
| 引用推文 | 包含被引用推文内容 |
| 图片/视频 | 图片下载本地缓存；视频仅保存链接 |
| 多语言 | 自动检测语言，标记语言属性 |

##### P1 内容源（V1.1）

**知乎**

| 项目 | 方案 |
|------|------|
| 支持类型 | 回答（`zhihu.com/question/xxx/answer/xxx`）、文章（`zhuanlan.zhihu.com`） |
| 抓取方式 | HTTP 请求 + 知乎页面结构解析 |
| 正文提取 | 提取回答/文章正文，保留格式 |

**微博**

| 项目 | 方案 |
|------|------|
| 支持类型 | 单条微博（含长微博展开）、微博文章 |
| 抓取方式 | 服务端代理（微博登录墙） |
| 图片处理 | 下载原图到本地 |

##### P2 内容源（V1.2+）

| 内容源 | 方案概要 |
|--------|---------|
| Newsletter/邮件 | 提供 `@folio.app` 收件地址，解析邮件正文 |
| YouTube 字幕 | 通过 YouTube API 获取字幕文本，结构化为时间轴 |

##### P3 内容源（远期）

| 内容源 | 方案概要 |
|--------|---------|
| 播客/音频 | 语音转文字（Whisper API），成本较高，限 Pro+ |

#### 抓取性能要求

| 指标 | 要求 |
|------|------|
| 普通网页抓取 | < 5 秒 |
| 微信公众号抓取 | < 8 秒（含服务端代理） |
| Twitter 单条 | < 3 秒 |
| Twitter Thread（10 条以内） | < 10 秒 |
| 图片下载（单张） | < 3 秒 |
| Markdown 转换 | < 1 秒 |
| 整体端到端（链接到入库） | < 15 秒 |

#### 抓取质量要求

| 指标 | 要求 |
|------|------|
| 正文提取准确率 | > 95%（不含广告、导航、侧边栏等干扰内容） |
| 格式保留率 | > 90%（标题层级、加粗、列表、引用、代码块） |
| 图片抓取成功率 | > 90%（含微信防盗链图片） |
| 元数据提取率 | > 85%（标题、作者、发布日期） |

#### 抓取失败处理

| 失败类型 | 处理方式 |
|---------|---------|
| 网络超时 | 自动重试 2 次，间隔 5 秒；仍失败则存入"待处理"队列 |
| 反爬/403 | 降级保存：URL + 页面 title + OG 描述 + 截图（如可获取） |
| 内容已删除/404 | 标记"原文已不可访问"，保存已知元数据 |
| 解析失败 | 降级保存原始 HTML，标记"需要手动查看" |
| 不支持的内容类型 | 保存 URL + 提示"暂不支持该内容类型" |

#### 验收标准

- [ ] 微信公众号文章抓取成功率 > 95%，正文完整无广告
- [ ] Twitter 单条推文抓取成功，含图片
- [ ] Twitter Thread 10 条以内完整抓取，顺序正确
- [ ] 个人博客（WordPress/Hugo/Hexo/Ghost 等主流平台）抓取成功率 > 95%
- [ ] 图片全部下载到本地，离线可查看
- [ ] Markdown 格式正确，标题/加粗/列表/引用/代码块保留
- [ ] 抓取失败有明确的降级方案和用户提示
- [ ] 重复 URL 自动去重

---

### F3. AI 整理

**用户感受**：每篇收藏自动有分类、有标签、有摘要。不用自己动手整理，但整理得比自己做还好。

#### AI 处理流水线

```
文章正文（Markdown）
    ↓
语言检测
    ↓
┌─────────────────────────────┐
│ 并行处理（单次 API 调用）     │
│ ├── 自动分类                 │
│ ├── 自动标签（3-5 个）        │
│ └── 自动摘要（100-150 字）    │
└─────────────────────────────┘
    ↓
结果写入本地数据库
    ↓
更新搜索索引
```

#### 3.1 自动分类规格

| 项目 | 要求 |
|------|------|
| 分类体系 | 二级分类：大类（8-12 个）+ 子类（每个大类 3-8 个） |
| 分类方式 | AI 自动判断，单篇文章归入 1 个大类 + 1 个子类 |
| 自定义分类 | 用户可创建自定义分类，AI 学习后续自动使用 |
| 置信度 | AI 返回分类置信度，< 70% 标记为"待确认" |

**默认分类体系**：

| 大类 | 子类 |
|------|------|
| 技术 | 前端、后端、移动端、AI/ML、DevOps、数据库、架构、安全 |
| 产品 | 产品设计、用户体验、增长、数据分析、产品管理 |
| 商业 | 创业、投资、商业模式、行业分析、管理 |
| 设计 | UI 设计、交互设计、品牌设计、设计思维 |
| 科学 | 物理、生物、心理学、神经科学、环境科学 |
| 人文 | 哲学、历史、文学、艺术、社会学 |
| 生活 | 健康、饮食、旅行、育儿、个人成长 |
| 工具 | 效率工具、开发工具、设计工具、AI 工具 |
| 新闻 | 科技新闻、行业动态、政策法规 |
| 观点 | 评论、分析、随笔、思考 |

#### 3.2 自动标签规格

| 项目 | 要求 |
|------|------|
| 标签数量 | 每篇 3-5 个标签 |
| 标签语言 | 跟随文章语言（中文文章用中文标签，英文用英文） |
| 标签粒度 | 具体概念 > 宽泛描述（"React Server Components" > "前端框架"） |
| 标签合并 | 语义相同的标签自动合并（如 "LLM" 和 "大语言模型"） |
| 标签上限 | 用户标签库上限 1000 个（超出后 AI 优先使用已有标签） |
| 自定义标签 | 用户可手动添加/删除标签，AI 学习用户偏好 |

**标签质量标准**：

- [ ] 标签具有区分度（不是每篇都打"科技"、"互联网"等宽泛标签）
- [ ] 标签之间不重叠（不会同时出现"React"和"React.js"）
- [ ] 标签能反映文章核心主题，而非边缘提及的概念
- [ ] 中英文标签不混用（一篇文章的标签统一语言）

#### 3.3 自动摘要规格

| 项目 | 要求 |
|------|------|
| 摘要长度 | 100-150 字（中文）/ 50-80 words（英文） |
| 摘要语言 | 与原文语言一致 |
| 摘要风格 | 客观概述，提取核心论点和结论，不加评价 |
| 摘要结构 | 1-2 句话概述主题 + 2-3 个核心要点 |
| 生成时间 | < 3 秒（API 调用） |

**摘要质量标准**：

- [ ] 读完摘要能知道文章在讲什么，不需要打开原文
- [ ] 摘要忠实于原文，不编造不存在的内容
- [ ] 摘要简洁，无冗余表达（不写"本文主要讲述了..."等废话）
- [ ] 摘要能辅助搜索——包含文章的关键术语

#### 3.4 AI 模型选择

| 用途 | 模型 | 理由 |
|------|------|------|
| 分类 + 标签 + 摘要（单次调用） | DeepSeek Chat (deepseek-chat) | 性价比最优，速度快，质量足够 |
| 知识问答（Pro+） | DeepSeek Chat (deepseek-chat) | 需要更强的理解和推理能力 |
| 备选方案 | 端侧 Apple Intelligence | 无 API 成本，但分类/摘要质量待验证 |

#### 3.5 AI 调用 Prompt 规格

**分类 + 标签 + 摘要统一 Prompt（单次调用）**：

```
系统指令：
你是一个知识管理助手。对给定的文章进行分类、打标签、写摘要。

输入：文章标题 + 正文（截断到前 3000 字）
输出格式（JSON）：
{
  "category": { "primary": "技术", "secondary": "AI/ML", "confidence": 0.92 },
  "tags": ["RAG", "向量数据库", "知识检索", "LangChain"],
  "summary": "本文介绍了基于 RAG（检索增强生成）的知识问答系统搭建方法。核心要点：1）使用向量数据库存储文档嵌入；2）通过语义检索找到相关上下文；3）将上下文注入 LLM Prompt 生成回答。作者对比了 LangChain 和 LlamaIndex 两种框架的优劣。",
  "language": "zh-CN"
}
```

#### 验收标准

- [ ] AI 分类准确率 > 85%（基于 200 篇人工标注测试集）
- [ ] AI 标签相关性 > 80%（人工评估标签是否贴切）
- [ ] AI 摘要信息覆盖率 > 85%（核心信息是否被摘要覆盖）
- [ ] 单篇处理时间 < 5 秒（含 API 调用）
- [ ] 用户手动修改分类/标签后，AI 后续表现有明显改善
- [ ] 分类置信度 < 70% 的文章标记为"待确认"，通知用户

---

### F4. 收藏库

**用户感受**：打开 Folio，所有收藏整整齐齐，按时间、按分类、按标签，想怎么看怎么看。

#### 主界面布局

```
┌──────────────────────────────────┐
│ Folio                    🔍  ⚙️  │
├──────────────────────────────────┤
│ [全部] [技术] [产品] [商业] ...  │  ← 分类标签栏（横向滚动）
├──────────────────────────────────┤
│                                  │
│ ┌──────────────────────────────┐ │
│ │ 📄 文章标题                   │ │
│ │ 来源：公众号名称  ·  2小时前   │ │
│ │ 摘要摘要摘要摘要摘要摘要...    │ │
│ │ [标签1] [标签2] [标签3]       │ │
│ └──────────────────────────────┘ │
│                                  │
│ ┌──────────────────────────────┐ │
│ │ 📄 文章标题                   │ │
│ │ 来源：blog.example.com · 昨天 │ │
│ │ 摘要摘要摘要摘要摘要摘要...    │ │
│ │ [标签1] [标签2]               │ │
│ └──────────────────────────────┘ │
│                                  │
│ ...                              │
│                                  │
└──────────────────────────────────┘
```

#### 列表项信息

| 字段 | 说明 |
|------|------|
| 标题 | 文章标题，最多显示 2 行 |
| 来源标识 | 来源平台图标 + 来源名称（公众号名/博客域名/Twitter @用户名） |
| 时间 | 收藏时间，使用相对时间（"2小时前"、"昨天"、"3天前"、具体日期） |
| 摘要 | AI 生成摘要，最多显示 2 行 |
| 标签 | 最多显示 3 个标签，超出显示 "+N" |
| 封面图 | 如有封面图，在右侧显示缩略图（可选，设置中控制是否显示） |

#### 浏览方式

| 方式 | 说明 |
|------|------|
| 时间线（默认） | 按收藏时间倒序排列 |
| 按分类 | 顶部分类栏切换 |
| 按标签 | 点击任意标签筛选 |
| 按来源 | 按内容来源平台/账号分组 |

#### 批量操作

| 操作 | 方式 |
|------|------|
| 多选 | 长按进入多选模式 |
| 批量删除 | 多选 → 删除 |
| 批量修改分类 | 多选 → 移动到 |
| 批量添加标签 | 多选 → 添加标签 |

#### 单条操作

| 操作 | 方式 |
|------|------|
| 打开阅读 | 点击 |
| 删除 | 左滑 → 删除 |
| 修改分类 | 左滑 → 移动到 |
| 分享 | 左滑 → 分享 |
| 打开原链接 | 阅读页内 → 顶部"查看原文" |

#### 规格

| 项目 | 要求 |
|------|------|
| 列表加载 | 首屏 < 0.3 秒（本地数据库查询） |
| 滚动帧率 | 60 fps（列表项高度固定，使用 Cell 复用） |
| 分类切换 | < 0.2 秒 |
| 空状态 | 首次使用显示引导："分享一个链接试试？" |
| 加载更多 | 滚动到底部自动加载，每次 20 条 |

#### 验收标准

- [ ] 1000 条收藏下列表滚动流畅，无卡顿
- [ ] 分类筛选结果正确，切换无延迟
- [ ] 标签筛选支持多标签交叉筛选
- [ ] 批量操作（选中 50 条删除）< 1 秒
- [ ] 空状态引导清晰，新用户知道该怎么开始
- [ ] 所有时间显示格式统一且正确

---

### F5. 全文搜索

**用户感受**：想找什么，输入关键词，立刻出结果。就像在自己的知识库里用搜索引擎。

#### 搜索架构

```
用户输入关键词
    ↓
本地全文索引查询（SQLite FTS5）
    ↓
按相关性 + 时间排序
    ↓
返回结果列表（高亮匹配关键词）
```

#### 搜索范围

| 搜索字段 | 权重 | 说明 |
|---------|------|------|
| 标题 | 最高 | 标题匹配排在最前面 |
| 标签 | 高 | 标签精确匹配 |
| 摘要 | 中 | AI 摘要中的关键信息 |
| 正文 | 标准 | 全文索引 |
| 备注 | 标准 | 用户手动添加的备注 |
| 作者 | 低 | 作者名 |
| 来源 | 低 | 来源平台/域名 |

#### 搜索能力

| 能力 | 说明 | 优先级 |
|------|------|--------|
| 关键词搜索 | 输入关键词匹配全文 | P0 |
| 中文分词 | 基于 jieba 或 ICU 分词，支持中文搜索 | P0 |
| 英文搜索 | 英文词干提取（stemming） | P0 |
| 多关键词 | 空格分隔 = AND 逻辑 | P0 |
| 搜索建议 | 输入时实时显示匹配的标签和历史搜索 | P1 |
| 高级筛选 | 按分类、按时间范围、按来源筛选 | P1 |
| AI 语义搜索 | 基于向量嵌入的语义搜索（Pro+ 功能） | P2 |

#### 搜索结果展示

```
┌──────────────────────────────────┐
│ 🔍 [RAG 向量数据库         ]  ✕  │
├──────────────────────────────────┤
│ 找到 12 个结果                    │
├──────────────────────────────────┤
│ 📄 基于 **RAG** 的知识问答实践     │
│ ...使用**向量数据库**存储文档...    │  ← 关键词高亮
│ 技术 · 3天前                      │
├──────────────────────────────────┤
│ 📄 **向量数据库**选型指南           │
│ ...Pinecone vs Milvus vs...      │
│ 工具 · 1周前                      │
├──────────────────────────────────┤
│ ...                              │
└──────────────────────────────────┘
```

#### 搜索性能要求

| 指标 | 要求 |
|------|------|
| 搜索响应时间（1000 篇以内） | < 50 毫秒 |
| 搜索响应时间（10000 篇以内） | < 200 毫秒 |
| 索引更新延迟 | 新收藏后 < 1 秒可搜到 |
| 输入搜索建议延迟 | < 100 毫秒 |
| 索引空间占用 | 约为正文大小的 30%-50% |

#### 搜索索引技术方案

| 项目 | 方案 |
|------|------|
| 索引引擎 | SQLite FTS5（本地全文搜索） |
| 中文分词 | ICU tokenizer（iOS 内置）或自定义 jieba 分词 |
| 英文处理 | Porter Stemmer |
| 索引策略 | 新增收藏时实时更新索引 |
| 索引存储 | 本地 SQLite 文件 |

#### 验收标准

- [ ] 中文搜索准确（搜"机器学习"能找到含"机器学习"的文章）
- [ ] 英文搜索准确（搜"learning"能找到含"Learn"、"Learning"的文章）
- [ ] 搜索结果关键词高亮显示
- [ ] 1000 篇收藏下搜索响应 < 50ms
- [ ] 搜索结果按相关性排序合理（标题匹配 > 标签匹配 > 正文匹配）
- [ ] 无结果时显示友好提示

---

### F6. 阅读视图

**用户感受**：打开收藏的文章，干干净净，只有文字和图片，排版舒适，像在读一本精心排版的书。

#### 阅读界面

```
┌──────────────────────────────────┐
│ ←                    🔗  ⋯       │
├──────────────────────────────────┤
│                                  │
│  文章标题                         │
│  作者 · 来源 · 2026-02-18        │
│  ──────────────────────          │
│                                  │
│  AI 摘要                          │
│  ┌────────────────────────────┐  │
│  │ 摘要内容摘要内容摘要内容... │  │
│  └────────────────────────────┘  │
│                                  │
│  [标签1] [标签2] [标签3]          │
│                                  │
│  ──────────────────────          │
│                                  │
│  正文内容正文内容正文内容          │
│  正文内容正文内容正文内容          │
│                                  │
│  [图片]                           │
│                                  │
│  正文内容正文内容正文内容          │
│  ...                             │
│                                  │
└──────────────────────────────────┘
```

#### 阅读功能

| 功能 | 说明 | 优先级 |
|------|------|--------|
| Markdown 渲染 | 完整渲染 Markdown 格式（标题、列表、引用、代码块、表格） | P0 |
| 图片查看 | 点击图片放大，支持手势缩放 | P0 |
| 查看原文 | 顶部按钮跳转到原始链接（App 内 WebView） | P0 |
| 编辑标签 | 点击标签区域 → 编辑标签 | P0 |
| 修改分类 | 更多菜单 → 修改分类 | P0 |
| 添加备注 | 更多菜单 → 添加备注 | P1 |
| 文本选中 | 长按选中文本 → 复制 / 高亮标记 | P1 |
| 字号调节 | 更多菜单 → 字号（小/中/大） | P1 |
| 暗色模式 | 跟随系统暗色模式 | P0 |
| 分享 | 更多菜单 → 分享原链接或 Markdown 文本 | P1 |

#### 阅读排版规格

| 项目 | 要求 |
|------|------|
| 正文字体 | 系统默认字体（SF Pro / PingFang SC） |
| 正文字号 | 默认 17pt，可调节（15/17/19/21pt） |
| 行间距 | 1.6 倍 |
| 段间距 | 正文字号 × 1.2 |
| 内边距 | 左右 20pt |
| 代码块 | 等宽字体，浅灰背景，支持横向滚动 |
| 引用块 | 左侧灰色竖线，文字灰色 |
| 图片 | 宽度自适应，保持原始比例 |
| 表格 | 横向可滚动，表头固定 |

#### 验收标准

- [ ] Markdown 所有基本格式正确渲染（标题 1-6 级、加粗、斜体、列表、引用、代码块、表格、图片、链接）
- [ ] 阅读页加载 < 0.3 秒
- [ ] 长文章（10000 字）滚动流畅
- [ ] 代码块支持语法高亮（至少 10 种常见语言）
- [ ] 暗色模式下所有元素可读性良好
- [ ] 图片离线可查看（已缓存到本地）

---

### F7. 用户账号

#### 登录方式

| 方式 | 说明 | 优先级 |
|------|------|--------|
| Sign in with Apple | 主推，一键登录 | P0 |
| 邮箱 + 密码 | 备用方案（全球用户需要） | P1 |
| 无账号使用 | 允许不登录直接使用本地功能，登录解锁 AI 和同步 | P0 |

#### 登录流程

```
首次打开 App
    ↓
欢迎页（品牌介绍，3 屏最多）
    ↓
[开始使用（无需登录）]  [登录 / 注册]
    ↓
无账号模式：直接进入 App，本地功能可用，AI 功能需登录后使用
登录模式：Apple ID 一键 → 进入 App
```

**设计原则**：不强制登录。本地收藏、本地搜索在无账号状态下可用。AI 分类/摘要/标签需要登录（因为需要调用云端 API）。

#### 验收标准

- [ ] Apple ID 登录全程 < 3 秒
- [ ] 无账号状态下可以正常收藏、浏览、搜索（AI 功能不可用）
- [ ] 登录后历史本地数据自动关联到账号
- [ ] 退出登录后本地数据保留

---

## 五、本地存储规格

### 存储架构

```
App 沙箱
├── /Documents
│   ├── folio.sqlite          — 主数据库（文章元数据、分类、标签、索引）
│   ├── folio_fts.sqlite      — 全文搜索索引
│   └── /images               — 文章图片缓存
│       ├── /{article_id}/
│       │   ├── cover.jpg
│       │   ├── img_001.jpg
│       │   └── ...
│       └── ...
├── /Library
│   └── /Caches
│       └── /thumbnails       — 列表缩略图缓存
└── /tmp
    └── /processing           — 抓取中的临时文件
```

### 数据库 Schema（核心表）

**articles 表**

| 字段 | 类型 | 说明 |
|------|------|------|
| id | TEXT (UUID) | 主键 |
| url | TEXT | 原始链接（唯一索引） |
| title | TEXT | 文章标题 |
| author | TEXT | 作者 |
| source_type | TEXT | 来源类型（wechat/twitter/blog/zhihu/weibo） |
| source_name | TEXT | 来源名称（公众号名/博客域名/@用户名） |
| content_md | TEXT | Markdown 正文 |
| summary | TEXT | AI 生成摘要 |
| category_primary | TEXT | 一级分类 |
| category_secondary | TEXT | 二级分类 |
| category_confidence | REAL | 分类置信度 |
| language | TEXT | 语言（zh-CN/en） |
| publish_date | TEXT | 原文发布日期 |
| saved_at | TEXT | 收藏时间 |
| updated_at | TEXT | 最后更新时间 |
| word_count | INTEGER | 字数 |
| read_status | INTEGER | 0=未读, 1=已读 |
| note | TEXT | 用户备注 |
| status | TEXT | normal/processing/failed |
| error_message | TEXT | 抓取失败原因 |

**tags 表**

| 字段 | 类型 | 说明 |
|------|------|------|
| id | TEXT (UUID) | 主键 |
| name | TEXT | 标签名（唯一索引） |
| count | INTEGER | 使用次数 |
| created_at | TEXT | 创建时间 |

**article_tags 关联表**

| 字段 | 类型 | 说明 |
|------|------|------|
| article_id | TEXT | 文章 ID |
| tag_id | TEXT | 标签 ID |

**processing_queue 表**

| 字段 | 类型 | 说明 |
|------|------|------|
| id | TEXT (UUID) | 主键 |
| url | TEXT | 待处理链接 |
| note | TEXT | 用户备注 |
| created_at | TEXT | 入队时间 |
| retry_count | INTEGER | 重试次数 |
| status | TEXT | pending/processing/failed |

### 存储限制

| 项目 | Free 版 | Pro 版 | Pro+ 版 |
|------|--------|--------|---------|
| 收藏数量 | 30 篇/月 | 无限 | 无限 |
| 本地存储上限 | 500MB | 2GB | 5GB |
| 图片缓存 | 原图 | 原图 | 原图 |
| iCloud 同步 | 不支持 | 不支持 | 支持 |

### 数据迁移与备份

| 功能 | 说明 | 优先级 |
|------|------|--------|
| 本地备份 | 导出为 ZIP（SQLite + 图片 + Markdown） | P1 |
| iCloud 同步 | Pro+ 功能，基于 CloudKit | P2 |
| Markdown 导出 | 单篇或批量导出为 .md 文件 | P1 |
| 数据清理 | 设置中可清理图片缓存 | P0 |

### 验收标准

- [ ] 1000 篇文章下数据库查询响应 < 50ms
- [ ] 图片缓存正确，离线可访问
- [ ] 数据库 migration 机制就位，支持版本升级
- [ ] 存储空间不足时有友好提示
- [ ] 删除文章同步删除对应图片缓存
- [ ] Free 版达到月限额时有明确提示和升级引导

---

## 六、性能要求

| 指标 | 要求 | 测试条件 | 为什么重要 |
|------|------|---------|-----------|
| App 冷启动 | < 1.5 秒 | iPhone 12 及以上 | 快速打开查找信息 |
| App 热启动 | < 0.5 秒 | 从后台切换回前台 | 剪贴板检测需要即时响应 |
| Share Extension 启动 | < 0.5 秒 | 从任意 App 分享 | 收藏零摩擦的关键 |
| 列表首屏加载 | < 0.3 秒 | 1000 篇收藏 | 打开即看到内容 |
| 列表滚动帧率 | 60 fps | 快速滚动 | 流畅感 |
| 阅读页加载 | < 0.3 秒 | 10000 字文章 | 点击即阅读 |
| 搜索响应 | < 50ms | 1000 篇收藏 | 输入即出结果 |
| 搜索响应 | < 200ms | 10000 篇收藏 | 大数据量不卡 |
| 抓取端到端 | < 15 秒 | 普通网页 | 分享后快速看到结果 |
| AI 处理 | < 5 秒 | 单篇分类+标签+摘要 | 不让用户等 |
| 内存占用 | < 150MB | 日常使用 | 不被系统杀进程 |
| 电池影响 | 后台处理 < 5% | 每天处理 10 篇 | 不影响手机续航 |
| 包大小 | < 30MB | App Store 下载 | 蜂窝网络可下载 |
| 崩溃率 | < 0.1% | 全量用户 | 基本稳定性 |

---

## 七、隐私与安全

### 隐私承诺（写进隐私政策，在 App 中展示）

1. **你的文章存在你的设备上** — 本地优先，数据归你
2. **只有 AI 处理时会上传文章内容** — 上传到我们的 API 服务器，处理完即删除，不留存
3. **绝不出售你的数据** — 你的阅读偏好、收藏内容不会卖给任何第三方
4. **你可以随时导出和删除所有数据** — 你的数据你做主

### 技术保障

| 措施 | 说明 |
|------|------|
| 传输加密 | 全链路 HTTPS（TLS 1.3） |
| 本地数据 | iOS Data Protection（Complete Protection） |
| API 调用 | 文章内容传输到服务端仅用于 AI 处理，处理完成后不留存原文 |
| 图片存储 | 仅存在用户设备本地，不上传到服务器 |
| 用户数据删除 | 账号删除后 7 天内清除服务端所有关联数据 |
| 剪贴板 | 仅在 App 前台读取，不后台监听 |
| 第三方 SDK | 最小化引入，不使用含广告追踪的 SDK |

### 合规要求

| 法规 | 对应措施 |
|------|---------|
| 《个人信息保护法》 | 隐私政策明示收集范围、用途；收集前获得明示同意 |
| 《数据安全法》 | 数据分类分级管理，用户内容数据不出境（国内版） |
| GDPR | 国际版遵循数据最小化原则，支持数据导出和删除请求 |
| Apple App Store 隐私标签 | 如实声明数据收集类型和用途 |
| CCPA | 不出售个人信息，提供删除权 |

### App Store 隐私标签声明

| 数据类型 | 是否收集 | 用途 |
|---------|---------|------|
| 账号信息（Apple ID） | 是 | 账号管理 |
| 使用数据（功能使用统计） | 是 | 产品分析 |
| 文章内容 | 是（仅传输用于 AI 处理，不留存） | App 功能 |
| 精确位置 | 否 | — |
| 联系人 | 否 | — |
| 浏览历史 | 否 | — |
| 广告数据 | 否 | — |

---

## 八、商业模式详细设计

### 订阅层级

| | Free | Pro | Pro+ |
|---|------|-----|------|
| **价格** | 免费 | ¥68/年（$9.99/年） | ¥128/年（$19.99/年） |
| **月付价格** | — | ¥9/月（$1.49/月） | ¥15/月（$2.49/月） |
| **收藏数量** | 30 篇/月 | 无限 | 无限 |
| **内容抓取** | 全平台 | 全平台 | 全平台 |
| **Markdown 转换** | 支持 | 支持 | 支持 |
| **本地存储** | 500MB | 2GB | 5GB |
| **AI 自动分类** | 基础分类（8 大类） | 二级分类 | 二级分类 |
| **AI 自动标签** | 不支持 | 支持（每篇 3-5 个） | 支持（每篇 3-5 个） |
| **AI 自动摘要** | 不支持 | 支持 | 支持 |
| **全文搜索** | 本地搜索 | 本地搜索 | 本地搜索 + AI 语义搜索 |
| **AI 知识问答** | 不支持 | 不支持 | 支持（基于收藏库问答） |
| **知识周报** | 不支持 | 不支持 | 支持（每周自动生成阅读洞察） |
| **iCloud 同步** | 不支持 | 不支持 | 支持 |
| **Markdown 导出** | 单篇 | 批量 | 批量 |

### 付费转化策略

| 触发点 | 场景 | 引导方式 |
|--------|------|---------|
| 月度限额 | Free 用户当月收藏第 31 篇 | 弹窗："本月已收藏 30 篇，升级 Pro 无限收藏" |
| AI 功能体验 | Free 用户首次收藏 5 篇后 | 展示："AI 已为你的文章生成了摘要和标签（Pro 功能），升级解锁" |
| 搜索场景 | Free 用户搜索无结果时 | 提示："AI 语义搜索可以帮你找到相关内容（Pro+ 功能）" |
| 导出场景 | Free 用户尝试批量导出 | 提示："批量导出是 Pro 功能" |
| 自然引导 | 设置页 | "查看 Pro 权益" 入口，不弹窗不打扰 |

**付费设计原则**：
- Free 版功能足够日常使用，不刻意制造不便
- 付费功能是真正的价值增量，不是解锁限制
- 不使用倒计时、限时优惠等压迫性营销
- 提供 7 天免费试用（Pro / Pro+）

### 成本分析

#### 单用户 AI API 成本（月）

| 场景 | 调用量 | 模型 | 单次成本 | 月成本 |
|------|--------|------|---------|--------|
| Pro 用户分类+标签+摘要 | 约 50 篇/月 | DeepSeek Chat | ~$0.001/篇 | ~$0.05 |
| Pro+ 用户分类+标签+摘要 | 约 100 篇/月 | DeepSeek Chat | ~$0.001/篇 | ~$0.10 |
| Pro+ 知识问答 | 约 30 次/月 | DeepSeek Chat | ~$0.01/次 | ~$0.30 |
| Pro+ 知识周报 | 4 次/月 | DeepSeek Chat | ~$0.02/次 | ~$0.08 |

**Pro 用户月 AI 成本**：约 $0.05（¥0.35）
**Pro+ 用户月 AI 成本**：约 $0.48（¥3.5）

#### 服务器成本（月）

| 项目 | 说明 | 月成本估算 |
|------|------|-----------|
| 内容抓取服务 | 云函数（AWS Lambda / 腾讯云函数），按调用计费 | $0.005/千次 |
| 微信公众号代理 | 需要长期运行的代理服务器（抓取微信内容） | $20-50/月（固定成本） |
| API 网关 | 用户认证、限流、路由 | $10-20/月 |
| 数据库（用户账号） | PostgreSQL（轻量） | $10-20/月 |
| CDN/对象存储 | 仅用于分享功能（如有），量小 | $5-10/月 |

**服务器固定成本**：约 $50-100/月（早期用户量小时）

#### 盈亏平衡分析

| 指标 | 估算 |
|------|------|
| 服务器固定成本 | ~$75/月 |
| Pro 用户年收入（扣除 Apple 30%） | $9.99 × 70% = $6.99/年 = $0.58/月 |
| Pro 用户月净利润 | $0.58 - $0.05 = $0.53/月 |
| Pro+ 用户年收入（扣除 Apple 30%） | $19.99 × 70% = $13.99/年 = $1.17/月 |
| Pro+ 用户月净利润 | $1.17 - $0.48 = $0.69/月 |
| 盈亏平衡付费用户数 | ~$75 / $0.58 ≈ **130 个付费用户** |

> 注：随着用户量增长，服务器成本会增加但边际成本递减。130 个付费用户是最小可持续规模。

---

## 九、数据埋点

**原则：只追踪与"收藏→整理→找到"相关的数据。不追踪不需要的。**

### 核心漏斗

```
下载 → 首次打开 → 首次收藏 → AI 处理完成 → 首次搜索 → 第7天留存 → 付费转化
```

### 埋点清单

| 事件 | 埋点名 | 分析目的 |
|------|--------|---------|
| App 首次打开 | app_first_open | 安装转激活 |
| 注册/登录完成 | auth_complete | 注册转化率 |
| 首次收藏成功 | first_save_success | 激活率（核心指标） |
| 收藏来源 | save_source | 哪个入口用得多（Extension/剪贴板/手动） |
| 收藏内容源 | save_content_source | 哪个平台的内容最多（微信/Twitter/博客） |
| 抓取成功 | fetch_success | 抓取成功率 |
| 抓取失败 | fetch_failed | 失败率和失败原因 |
| AI 处理完成 | ai_process_complete | AI 处理成功率和延迟 |
| 搜索执行 | search_performed | 搜索使用频率 |
| 搜索有结果 | search_has_results | 搜索命中率 |
| 搜索无结果 | search_no_results | 搜索体验问题 |
| 文章打开阅读 | article_opened | 内容消费率 |
| 文章阅读完成（滚动到底） | article_read_complete | 深度阅读率 |
| 标签手动修改 | tag_manual_edit | AI 标签满意度信号 |
| 分类手动修改 | category_manual_edit | AI 分类满意度信号 |
| 付费页展示 | paywall_shown | 付费漏斗入口 |
| 付费页触发场景 | paywall_trigger | 哪个场景触发付费（限额/AI功能/导出） |
| 开始试用 | trial_started | 试用转化 |
| 付费完成 | purchase_complete | 付费转化率 |
| 第 1/3/7/14/30 天留存 | retention_d{n} | 留存曲线 |

### 不追踪的

| 不追踪 | 理由 |
|--------|------|
| 具体文章内容 | 隐私 —— 不追踪用户收藏了什么内容 |
| 搜索关键词 | 隐私 —— 不追踪用户搜索了什么 |
| 详细使用时长 | 不是社交/娱乐 App，不需要优化时长 |
| 功能热力图 | MVP 功能少，不需要 |
| 精确地理位置 | 与产品无关 |

### 数据工具

| 用途 | 工具 | 说明 |
|------|------|------|
| 事件追踪 | Mixpanel / Amplitude（免费版） | 核心事件漏斗 |
| 崩溃追踪 | Firebase Crashlytics | 稳定性监控 |
| 性能监控 | Xcode Instruments + 自定义指标 | 关键路径性能 |

---

## 十、不做清单

> "Deciding what not to do is as important as deciding what to do."
> — Steve Jobs

### MVP 明确不做

| 不做 | 理由 |
|------|------|
| 社交功能（关注、点赞、评论） | Folio 是个人工具，不是社区 |
| 内容推荐 / 发现页 | Folio 只收藏用户自己找到的内容 |
| 笔记/批注功能 | Folio 是收藏工具，不是笔记工具；笔记交给 Obsidian/Notion |
| 网页高亮标注 | 不做浏览器插件，专注 iOS 原生体验 |
| RSS 订阅 | Folio 是"收藏"，不是"订阅"；订阅是另一个产品 |
| 稍后阅读队列/未读列表 | 不做"阅读任务管理"，Folio 不给用户压力 |
| 多端同步（MVP） | 先做好 iOS 单端，同步是 Pro+ 才有的 iCloud |
| Android 版 | iOS 先行，验证产品后再考虑 |
| Web 版 / 浏览器插件 | MVP 只做 iOS |
| 团队/协作功能 | 个人工具，不做协作 |
| AI 对话（MVP） | Pro+ 才有，MVP 不做 |
| 导入其他工具数据 | V1.1 考虑（Pocket/Instapaper 导入） |
| 文件夹/层级分类 | AI 自动分类 + 标签足够，不需要文件夹层级 |
| Widget / Apple Watch | V1.1+ 考虑 |
| 自定义主题/字体 | 提供一套精心设计的默认风格即可 |
| 离线 AI（端侧模型） | 技术尚不成熟，成本不划算 |
| PDF/文档抓取 | 仅支持网页链接，不支持文件格式 |

### 不做的边界原则

**如果某天想加一个新功能，先回答三个问题**：

1. 这个功能是否服务于"收藏→整理→找到"这条主线？
2. 没有这个功能，用户的核心流程是否受阻？
3. 这个功能是否能用现有工具（Notion/Obsidian/备忘录）轻松替代？

如果答案是"否、否、是"，就不做。

---

## 十一、上线清单和核心验证指标

### 上线前必须完成

**产品**：
- [ ] Share Extension 在 iOS 16+ 全系机型测试通过
- [ ] 微信公众号文章抓取成功率 > 95%（基于 100 篇测试）
- [ ] Twitter/X 推文和 Thread 抓取成功率 > 90%（基于 50 条测试）
- [ ] 个人博客抓取成功率 > 90%（基于 50 个不同博客测试）
- [ ] AI 分类准确率 > 85%（基于 200 篇人工标注测试集）
- [ ] AI 摘要质量合格率 > 80%（人工评估）
- [ ] 1000 篇收藏下全部性能指标达标
- [ ] Free / Pro / Pro+ 三档功能权限正确
- [ ] 订阅购买、恢复购买、取消订阅流程完整测试

**技术**：
- [ ] 所有性能指标达标（见第六章）
- [ ] 崩溃率 < 0.1%
- [ ] 内容抓取服务可用性 > 99.5%
- [ ] API 限流和错误处理机制就绪
- [ ] 数据库 migration 机制就位
- [ ] 所有数据加密传输

**合规**：
- [ ] 隐私政策和用户协议法务审核通过
- [ ] App Store 审核材料准备完成
- [ ] 隐私标签如实声明
- [ ] 剪贴板读取符合 iOS 隐私规范
- [ ] GDPR 合规（数据导出、删除功能就绪）

**运营**：
- [ ] App Store 页面素材（截图 ×6、预览视频 ×1、描述文案中英文）
- [ ] 官网 Landing Page（简约，一页说清楚产品）
- [ ] 客服渠道（邮箱即可）
- [ ] 内测群/反馈渠道建立

### 核心验证指标（上线后前 4 周）

| 指标 | 达标线 | 含义 | 不达标怎么办 |
|------|--------|------|------------|
| **首次收藏成功率** | > 80% | 新用户能顺利完成第一次收藏 | 优化 Share Extension 引导和抓取成功率 |
| **抓取成功率（全平台）** | > 90% | 内容抓取的基本可靠性 | 逐平台排查和修复 |
| **D7 留存率** | > 25% | 用户觉得 Folio 有用，持续使用 | 分析流失原因，优化核心体验 |
| **周收藏量（活跃用户平均）** | > 5 篇/周 | 用户有持续收藏习惯 | 优化收藏便利性和内容源覆盖 |
| **AI 分类用户满意度** | 手动修改率 < 20% | AI 自动分类足够好 | 优化 Prompt 和分类体系 |
| **搜索使用率** | > 30% 的周活用户 | 用户在用搜索找内容 | 优化搜索入口可见性和搜索质量 |
| **Free→Pro 转化率** | > 5% | 付费功能有吸引力 | 调整付费策略和功能分层 |

### 如果指标不达标

**优先级**：
1. 抓取成功率 — 这是产品存在的根基，不能抓取就不是收藏工具
2. 首次收藏成功率 — 新用户第一步走不通就会流失
3. D7 留存率 — 用户觉得有用才会留下来
4. 其他指标 — 在前三个达标后再优化

**原则**：前 4 周不加新功能，只打磨核心体验和修复问题。

---

## 十二、技术选型概要

> 详细系统架构见 [系统架构文档](../architecture/system-design.md)

| 层面 | 技术选型 | 说明 |
|------|---------|------|
| iOS 客户端 | SwiftUI + Swift | 现代 iOS 开发标准 |
| 本地数据库 | SwiftData + SQLite FTS5 | Apple 官方 ORM + 全文搜索 |
| 网络层 | URLSession + Async/Await | iOS 原生，无需第三方 |
| Markdown 渲染 | swift-markdown + 自定义渲染 | Apple 官方 Markdown 库 |
| 后端 API | Go + chi + asynq | 高性能，goroutine 并发，编译型单二进制部署 |
| 抓取引擎 | @vakra-dev/reader | 多引擎级联抓取，反爬突破，Markdown 转换 |
| AI 服务 | Python + FastAPI + DeepSeek API | 分类/标签/摘要/问答 |
| 用户认证 | Sign in with Apple + JWT | Go 服务自行实现认证 |
| 数据分析 | Mixpanel | 事件追踪 |
| 崩溃监控 | Firebase Crashlytics | 稳定性 |

---

## 十三、国际化（i18n）

### 双语支持

| 项目 | 方案 |
|------|------|
| App UI 语言 | 中文简体 + 英文（跟随系统语言） |
| AI 输出语言 | 跟随文章语言（中文文章输出中文分类/标签/摘要） |
| 分类体系 | 中英文双语分类名（存储用英文 key，展示用本地化名称） |
| App Store 页面 | 中文 + 英文两套 |
| 价格 | 国内 ¥68/¥128，国际 $9.99/$19.99（App Store 自动处理汇率） |

### 内容语言处理

| 场景 | 处理方式 |
|------|---------|
| 中文文章 | 分类/标签/摘要输出中文 |
| 英文文章 | 分类/标签/摘要输出英文 |
| 中英混合文章 | 以主体语言为准 |
| 其他语言文章 | MVP 不做特殊处理，按英文处理 |

---

## 十四、竞品对比与差异化

| 维度 | Folio | Pocket | Cubox | Readwise Reader | Instapaper |
|------|-------|--------|-------|----------------|------------|
| **定位** | 知识收藏 | 稍后阅读 | 收藏+笔记 | 全能阅读 | 稍后阅读 |
| **本地优先** | 是 | 否 | 否 | 否 | 否 |
| **AI 分类** | 自动 | 无 | 有（弱） | 有（强） | 无 |
| **AI 摘要** | 自动 | 无 | 有（弱） | 有（强） | 无 |
| **微信公众号** | 深度适配 | 不支持 | 支持 | 弱 | 不支持 |
| **微博** | 支持 | 不支持 | 部分支持 | 不支持 | 不支持 |
| **Twitter/X** | 深度适配 | 支持 | 支持 | 支持 | 支持 |
| **全文搜索** | 本地 FTS | 云端 | 云端 | 云端 | 云端 |
| **价格** | $9.99/年 | $44.99/年 | ¥98/年 | $95.88/年 | $29.99/年 |
| **中文体验** | 原生 | 差 | 好 | 差 | 差 |
| **数据所有权** | 完全本地 | 云端 | 云端 | 云端 | 云端 |

### Folio 的核心差异

1. **本地优先** — 数据在设备上，不依赖服务器存活。Pocket 停服你的收藏就没了，Folio 不会
2. **中文内容源深度适配** — 微信公众号、微博等中文封闭平台的抓取体验远好于国际竞品
3. **AI 自动整理 + 极低价格** — Readwise Reader 的 AI 能力需要 $8/月，Folio 只要 $0.83/月
4. **只做收藏，做到极致** — 不做笔记、不做订阅、不做社交，功能聚焦带来体验极致

---

## 更新记录

| 日期 | 版本 | 更新内容 |
|------|------|---------|
| 2026-02-20 | 1.0 | 创建 PRD —— 完整产品定义，涵盖产品灵魂、功能规格、AI 处理、内容源抓取、本地存储、搜索、性能、隐私安全、商业模式、数据埋点、不做清单、上线清单 |
| 2026-02-20 | 1.1 | 更新技术选型 — 后端改为 Go 语言，集成 @vakra-dev/reader 抓取引擎 |
